/*********************************************************************************************************
Copyright (C), 2011-8-3 ,  Skyray Instrment Co.,LTD.
File name:      	da.h
Author:                   方卫龙 夏洪海      Version:       V2.5 Date:      2011-8-3 11:37:43
Description:    	

Others:         
Function List:  
	extern volatile void DelayDa(int32_t ulTime);
	extern void DaIOInit(void);
	extern void DA8831Output(uint16 digit);
	extern void AnalogOutput(fp32 analogVoltage);

History:         
   1. Date:                2011-8-3 12:52:43
       Author:             何顺杰
	   Modification:    规范了注释
************************************************************************************************************/

#ifndef __DA_H
#define __DA_H

/*********************************************************************************************************
**               头文件包含                                                                             
*********************************************************************************************************/
#include "global.h"

/*********************************************************************************************************
**               C++代码兼容                                                                            
*********************************************************************************************************/
#ifdef __cplusplus
extern "C" {
#endif                                                                  /*  __cplusplus                 */
 
/*********************************************************************************************************
**                    4822IC的控制端口                                                       
*********************************************************************************************************/
#define		SDI_8831			(1ul<<26)			//P1.26;
#define		SCK_8831			(1ul<<23)			//P1.23;
#define		LDAC_8831			(1ul<<25)			//P1.25;
#define		CS_8831				(1ul<<24)			//P1.24;

#define		SET_SDI_8831(x)		((x) ? GPIO_SetValue(1, SDI_8831): GPIO_ClearValue(1, SDI_8831))
#define		SET_SCK_8831(x)		((x) ? GPIO_SetValue(1, SCK_8831): GPIO_ClearValue(1, SCK_8831))
#define		SET_LDAC_8831(x)	((x) ? GPIO_SetValue(1, LDAC_8831): GPIO_ClearValue(1, LDAC_8831))
#define		SET_CS_8831(x)		((x) ? GPIO_SetValue(1, CS_8831): GPIO_ClearValue(1, CS_8831))


/*********************************************************************************************************
* Function name:        DelayDa
* Descriptions:         用于DA的延时函数,内部调用
* input parameters:     延时的数字
* output parameters:    无
* Returned value:       无
*********************************************************************************************************/
extern volatile void DelayDa(int32_t ulTime);

/*********************************************************************************************************
* Function name:        DaIOInit
* Descriptions:         DA的IO初始化
* input parameters:     无
* output parameters:    无
* Returned value:       无
*********************************************************************************************************/
extern void DaIOInit(void);

/*********************************************************************************************************
* Function name:        DA8831Output
* Descriptions:         DA输出控制函数
* input parameters:     无
* output parameters:    无
* Returned value:       无
*********************************************************************************************************/
extern void DA8831Output(uint16 digit);

/*********************************************************************************************************
* Function name:        AnalogOutput
* Descriptions:         模拟电压输出函数
* input parameters:     analogVoltage: 模拟电压值 mV
* output parameters:    无
* Returned value:       无
*********************************************************************************************************/
extern void AnalogOutput(fp32 analogVoltage);

#ifdef __cplusplus
	}
#endif                                                                  /*  __cplusplus                 */

#endif

/********************************************************************************************************
  End Of File                                                                             
********************************************************************************************************/
